<h2>Post</h2>

<p>
  <strong>Title:</strong>
  <%= @post.title %>
</p>

<p>
  <strong>Body:</strong>
  <%= @post.body %>
</p>

<p>
  <strong>Comments:</strong>
    <% if @post.comments.size > 0 %>
    <table>
      <thead>
      <tr>
        <th>Body</th>
        <th>Author</th>
        <th colspan="3"></th>
      </tr>
      </thead>

      <tbody>
      <% @post.comments.by_oldest.each do |comment| %>
        <tr>
          <td><%= comment.body %></td>
          <td><%= comment.user.name %></td>
          <td><%= link_to 'Show', comment %></td>
          <% if comment.user == current_user %>
            <td><%= link_to 'Edit', edit_comment_path(comment) %></td>
            <td><%= link_to 'Delete', comment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>
        </tr>
      <% end %>
      </tbody>
    </table>

    <% end %>
</p>

<p><%= link_to 'New Comment', new_comment_path(post_id: @post.id) %></p>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %>
