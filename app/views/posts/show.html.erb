<h3>Post</h3>

<div class="container">
  <div class="row">
    Title: <%= @post.title %>
  </div>
  <div class="row">
    Body: <%= @post.body %>
  </div>
</div>

<br>
<table class="table">
  <thead>
  <tr>
    <th scope="col" colspan="5">Comments</th>
  </tr>
  </thead>
  <tbody>
  <% @post.comments.by_oldest.each do |comment| %>
    <tr>
      <td><%= comment.body %></td>
      <td><%= comment.user.name %></td>
      <td><%= link_to 'Show', comment %></td>
      <% if comment.user == current_user %>
        <td><%= link_to 'Edit', edit_comment_path(comment) %></td>
        <td><%= link_to 'Delete', comment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>

<p><%= link_to 'New Comment', new_comment_path(post_id: @post.id) %></p>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %>
